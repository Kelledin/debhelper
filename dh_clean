#!/bin/sh -e
#
# Clean up $TMP and other tepmorary files generated by the 
# build process.

PATH=debian:$PATH:/usr/lib/debhelper
. dh_lib

for PACKAGE in $DH_DOPACKAGES; do
	TMP=`tmpdir $PACKAGE`
	EXT=`pkgext $PACKAGE`
	doit "rm -rf $TMP"
	doit "rm -f debian/${EXT}substvars"
done
doit "rm -f debian/files* debian/*.debhelper $*"

# Remove other temp files. doit isn't smart enough to handle this, so I echo
# by hand (sigh).
doit "find . \( -name '#*#' -o -name '*~' -o -name DEADJOE -o -name '*.orig' \
	-o -name '*.rej' -o -name '*.bak' -o -name '.*.orig' \
	-o -name '.*.rej' -o -name .SUMS -o -name TAGS -o -name core \
	-o -size 0 \) -exec rm -f {} \;"
