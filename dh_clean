#!/bin/sh -e
#
# Clean up $TMP and other tepmorary files generated by the 
# build process.

PATH=debian:$PATH:/usr/lib/debhelper
. dh_lib

for PACKAGE in $DH_DOPACKAGES; do
	TMP=`tmpdir $PACKAGE`
	substvars=`pkgfile $PACKAGE substvars`
	if [ "$substvars" ]; then
		doit "rm -f debian/$substvars"
	fi
	doit "rm -rf $TMP"
done
doit "rm -f debian/*.debhelper $*"
if [ ! "$DH_K_FLAG" ]; then
	doit "rm -f debian/files*"
fi

# Remove other temp files.
# Use complex_doit so we can properly escape things.
complex_doit "find . \( -name '#*#' -o -name '*~' -o -name DEADJOE \
	-o -name '*.orig' -o -name '*.rej' -o -name '*.bak' \
	-o -name '.*.orig' -o -name '.*.rej' -o -name .SUMS \
	-o -name TAGS -o -name core \
	\) -exec rm -f {} \;"
